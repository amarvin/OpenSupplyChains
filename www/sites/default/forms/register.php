<?php
$terms = <<<TERMS
Sourcemap.com is a free and open-source website dedicated to providing the information people need to make sustainable choices and share them with the world. Through increasing the transparency of supply chains, Sourcemap hopes to educate consumers and allow individuals and companies to share information about the components, origins and social and environmental costs of various products and services. Users of the Sourcemap.com website (the “Site”) are encouraged to contribute their own items and products as well as build off of the information contributed by others. Sourcemap itself maintains an ever-growing library of the carbon costs associated with various raw materials, processes, and modes of transport.

Terms & Conditions
(1) Introduction
These Terms of Service constitute an agreement that describes the legal relationship between a user (an individual, representing him or herself, or if applicable, acting as legal representative for a group, institution, company or corporation) and Sourcemap Inc. of 614 Massachusetts Avenue, Cambridge, MA (USA) (the “Agreement”).
PLEASE REVIEW THIS AGREEMENT BEFORE USING THE SITE. ANY USER WHO DOES NOT AGREE TO THE TERMS OF THIS AGREEMENT MUST NOT USE THE SITE. USE OF THE SITE MANIFESTS AGREEMENT WITH THESE TERMS.

(2) Eligibility
By using the Site, a user represents and warrants that: (a) all registration information the user submits is truthful and accurate; (b) the user will maintain the accuracy of such information; (c) the user is 18 years of age or older; and (d) the user’s use of the Site does not violate any applicable law or regulation.

(3) User Account, Password, and Security

Anyone may register for a Sourcemap account. Registered Sourcemap Site users (“Members”) may receive or establish one or more passwords and accounts. Each Member is solely responsible for maintaining the confidentiality and security of his or her Sourcemap password(s) and account(s). Each Member is entirely responsible for all activities that occur on or through his or her Sourcemap account(s).

(4) User Contributions
Sourcemap Site users may contribute to the Site in a variety of ways.
Members may create new sourcemaps for any products or processes. In creating these sourcemaps, Members may contribute their own carbon values for objects and processes or draw upon those values that have been researched and listed by Sourcemap for this purpose. If a Member contributes values to Sourcemap, Sourcemap may contact that Member and request citations for the resources upon which the Member relied in contributing those values. By contributing values to the Site, a Member agrees to provide those references to Sourcemap upon request. Every Member further agrees to maintain the accuracy of information he or she provides, updating the Site as necessary on a prompt and timely basis.

Members who create sourcemaps may choose to make those sourcemaps publicly available or private. If a sourcemap is designated private, no one other than the Member who created the sourcemap and Sourcemap staff (including but not limited to Site administrators) will be able to access it.

Members may also add text descriptions and links to external web sites or embed media hosted by other web sites. Members may comment on any sourcemap, designate any sourcemap as a “favorite,” or otherwise annotate sourcemaps. All comments, “favorite” designations, and additional annotations are publicly available. All contributions to the Site must be germane to the purpose of the Site and not include content that is pornographic, obscene, defamatory, otherwise illegal, or far outside the scope of the site’s purpose.

Site users may copy or download values or sourcemaps contributed by other users and may modify those copies.
Any information that users contribute may be relied upon by other users. Sourcemap is not obligated to remove any user account or the information associated with or posted by that account upon request. Even if Sourcemap decides to remove information from visibility on the Site, Sourcemap reserves the right to retain that information for restoration, archival, or research purposes.

Except where otherwise noted, all content contributed to the Site is submitted under a Creative Commons Attribution-Share Alike License [http://creativecommons.org/licenses/by-sa/3.0/us/]. By posting or contributing content to the Site, a user grants Sourcemap and the Site a non-exclusive, irrevocable, perpetual, royalty-free, and worldwide license to display, copy, transmit, reproduce, edit and reformat that content.

(5) User Representations and Warranties

By contributing any content to the Site (including but not limited to sourcemaps, comments, and/or values), a user represents and warrants that he or she has all right, title, and interest to such contributed content, including but not limited to any consent, authorization, release, clearance or license from any third-party necessary for the user to contribute such content. The user further represents and warrants that such content does not violate or constitute the infringement of any patents, copyrights, trademarks, trade secrets, rights of privacy, rights of publicity, moral rights, other intellectual property rights, and/or other rights recognized by any applicable jurisdiction, or otherwise constitute the breach of any agreement with any other person or entity.

(6) Indemnification
Each user agrees, at his or her own expense, to indemnify, defend, save, and hold harmless Sourcemap, its creators, employees, affiliates, officers, directors, contributors, and/or other representatives from and against any and all judgments, losses, damages, liabilities, costs, or expenses (including but not limited to reasonable attorneys’ fees and legal expenses) associated with or arising from (a) that user’s use of the Site; (b) the user’s submissions to the Site; (c) any breach or claimed breach by such user of any representations, warranties, and/or agreements set forth herein; and/or (d) any tortious or grossly negligent act or omission by the user, its agents, and/or independent contractors, including but not limited to consequential damages, loss of profits, loss of business opportunities, and loss of income.

(7) User Reputation System
Sourcemap may use a variety of metrics to evaluate the value of a user’s contribution to the Sourcemap community, including but not limited to votes by other Sourcemap users. User reputation information will be stored and may be displayed publicly. Sourcemap’s provision of a reputation system does not constitute an endorsement or vetting of any messages or users or of any organizations, companies and products mentioned by or otherwise associated with users.

(8) Prohibited Site Usage
Users must not attempt or engage in potentially harmful acts that are directed against the Site or any third-party including, without limitation, the following: (a) using the Site in contravention of any other agreement to which the user is a party, including without limitation any employment agreement to which the user may be a party; (b) causing, allowing, or assisting any other person to use a user’s Sourcemap account(s) or impersonate a user; (c) sharing password or login with any other person; (d) logging onto a server or Sourcemap account(s) that the user is not authorized to access; (e) forging user names, manipulating identifiers, or otherwise impersonating any other person or misrepresenting one’s identity or affiliation with any person or entity; (f) emulating or faking usage of the Site or Services; (g) violating or attempting to violate any security features of the Site; (h) posting false information, including but not limited to false information about a competitor and/or otherwise violating libel and/or other applicable laws in any jurisdiction.

(9) Links to Third-Party Sites

The Site contains links to third-party websites (“Third-Party Sites”). Because Sourcemap has no control over Third-Party Sites, Sourcemap does not endorse, has not reviewed and is not responsible for the content, availability, or efficacy of Third-Party Sites. Users acknowledge that use of Third-Party Sites is at their own risk and that Sourcemap is not responsible or liable, directly or indirectly, for any damage or loss users incur in connection with products or services available on Third-Party Sites, nor for the accuracy, copyright compliance, legality, decency or other aspect of Third-Party Sites.

(10) Contacting Users
When a user registers an account on the Site and becomes a Member, that user is asked to provide an email address and is given the option to allow Sourcemap to contact that user infrequently.

Members who agree to be contacted infrequently may receive emails or similar electronic communications as often as approximately once a month. The content of those emails may include but is not limited to information about changes or improvements to the Site or information about content on the Site including but not limited to updates on a Member’s sourcemaps.

Sourcemap reserves the right to contact all users, including those that did not agree to be contacted infrequently, if circumstances require it. Those circumstances may include but are not limited to significant changes to the Site or its policies or impactful events such as a data loss or a security issue.

(11) Intellectual Property
All creative content on Sourcemap is governed by a Creative Commons Attribution-Share Alike license [http://creativecommons.org/licenses/by-sa/3.0/us/].

Data contributed by Sourcemap and its users is available through Sourcemap’s API under an Open Data Commons License [http://dev.sourcemap.com/info/api].

Sourcemap is committed to open source principles. Part of the code behind Sourcemap’s websites and services is available under an Affero General Public License (AGPL), Version 3.0 [http://www.gnu.org/licenses/agpl.html].

(12) Trademarks
Any trademarks, servicemarks, graphics and logos used in connection with all Sourcemap services are the trademarks of their respective owners. Users are granted no right to license with respect to any of the aforementioned trademarks. Any use of such trademarks, including but not limited to use in connection with any product or service that is not that of the respective trademark owner in any manner that is likely to cause confusion among customers or that disparages or discredits the respective trademark owner, is strictly prohibited.

(13) Disclaimers
Although Sourcemap attempts to research and verify the information that Sourcemap posts, Sourcemap cannot guarantee the accuracy of any information posted on the Site, including but not limited to “Sourcemap Approved” data and data provided by users. Sourcemap is not responsible for the appearance of any inaccurate or libelous information or for the use of any information contained in or linked to on our web pages. Sourcemap is not responsible for content created on or hosted by the Site once it has been taken out of or off of the Site and onto or into Third-Party Sites or third-party programs via embedding, exporting, copying, downloading or any other means which limit Sourcemap’s control over the content or its interface.

THE SOURCEMAP SITE AND ALL AFFILIATED SERVICES ARE PROVIDED ON AN “AS IS” AND “AS AVAILABLE” BASIS WITHOUT WARRANTIES OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, NON-INFRINGEMENT, OR OTHERWISE. WITHOUT LIMITATION, SOURCEMAP DISCLAIMS ANY AND ALL WARRANTIES REGARDING THE SECURITY, RELIABILITY, TIMELINESS, AND PERFORMANCE OF ALL SERVICES ASSOCIATED WITH USE OF THE SITE. SOURCEMAP MAKES NO WARRANTY, EXPRESS OR IMPLIED, THAT A USER’S USE OF THE SITE WILL BE UNINTERRUPTED, TIMELY, OR ERROR-FREE. SOME JURISDICTIONS DO NOT ALLOW THE DISCLAIMER OF CERTAIN WARRANTIES, SO PORTIONS OF THE ABOVE DISCLAIMER MAY NOT APPLY TO SOME USERS.

Consistent with the above, Sourcemap disclaims all responsibility and liability for the availability, timeliness, security or reliability of the Site. Sourcemap reserves the right to modify, suspend, or discontinue the Site or access to the Site without any notice at any time and without any liability to any user.

(14) Limitation of Liabilities and Waiver of Certain Damages
TO THE EXTENT NOT PROHIBITED BY APPLICABLE LAW, SOURCEMAP WILL NOT BE LIABLE FOR ANY DAMAGES OF ANY KIND ARISING FROM THE USE OF OR INABILITY TO USE THE SITE. USERS EXPRESSLY AGREE THAT THEIR USE OF THE SITE IS SOLELY AT THEIR OWN RISK. UNDER NO CIRCUMSTANCES SHALL SOURCEMAP BE LIABLE FOR ANY DIRECT, INDIRECT, SPECIAL, OR CONSEQUENTIAL DAMAGES, INCLUDING BUT NOT LIMITED TO LOSS OF PROFITS, INCOME, OR BUSINESS OPPORTUNITIES, REGARDLESS OF THE NATURE OF THE CLAIM OR THE FORM OF ACTION, ARISING OUT OF OR CONNECTED WITH THE SITE, EVEN IF SOURCEMAP HAS BEEN NOTIFIED OF THE POSSIBILITY OF ANY DAMAGES.

(15) Parental Control Protections
Pursuant to 47 U.S.C. Section 230(d) as amended, Sourcemap hereby notifies all users that parental control protections (such as computer hardware, software, or filtering services) are commercially available that may assist users in limiting access to material that is harmful to minors. Information for identifying current providers of such protection is available on the Internet (e.g. http://en.wikipedia.org/wiki/List_of_content-control_software).

(16) DMCA Notice Policy
Copyright owners who believe that their copyrighted materials have been used in a way that constitutes copyright infringement should refer to Sourcemap’s DMCA Notice Policy.

(17) Modification or Amendment of Agreement
From time to time, Sourcemap may modify this Agreement. Such modification shall be effective upon its posting to the Site. Users should check this page regularly to ensure they are familiar with the current Agreement.

(18) Severability
If any provision of the Terms of the Service shall be deemed unlawful, void, or for any reason unenforceable, then that provision shall be deemed severable from these terms and conditions and shall not affect the validity and enforceability of any remaining provisions.

(19) No Waiver of Terms
Failure of Sourcemap to exercise or enforce any right or provision of these Terms shall not be deemed a waiver of such right or provision in that or any other instance.

(20) Jurisdiction and Governing Law
These terms and conditions are governed by the laws of the Commonwealth of Massachusetts, without regard to the rules of conflict of law that may cause the laws of another jurisdiction to apply. Users agree to the sole and exclusive jurisdiction and venue of the federal or state courts serving Middlesex County in the Commonwealth of Massachusetts in the event of a dispute of any kind arising from or relating to the Sourcemap website or a user’s use or review of it. These terms and conditions constitute the entire agreement between the parties with respect to the subject matter hereof and supersede and replace all prior or contemporaneous understandings or agreements, written or oral, regarding such subject matter.

(21) Termination

Sourcemap reserves the right to terminate a user’s Sourcemap account(s), to restrict access to a user’s Sourcemap account(s) or to the Site in whole or in part, or to delete any content posted through a user’s Sourcemap account(s), with or without notice, for any or no reason, and without any liability. Sourcemap is not obligated to comply with user requests to terminate any account or remove any information contributed by a user.
TERMS;

return array(
    'fields' => array(
        'email' => array(
            'type' => 'text',
            'label' => 'Email Address',
			'attributes' => array(
				'maxlength' => 100,
				'placeholder' => 'Enter your email address.'				
			)
        ),
        'username' => array(
            'type' => 'text',
            'label' => 'Username',
            'attributes' => array(
                'maxlength' => 32,
				'placeholder' => 'Please choose a unique username.'
            )
        ),
        'password' => array(
            'type' => 'password',
            'label' => 'Password'
        ),
        'password_confirm' => array(
            'type' => 'password',
            'label' => 'Password (Repeat)'
        ),
	    'terms' => array(
	        'type' => 'textarea',
	        'label' => 'Terms and Conditions',
			'default' => $terms
	    ),
		'sourcemaporg_account' => array(
	        'type' => 'text',
	        'label' => 'If you had a Sourcemap.org account, enter it here:'
	    ),
        'confirm_terms' => array(
            'type' => 'checkbox',
            'label' => 'I have read and agree to the terms of service.',
            'default' => 0
        ),
        'register' => array(
            'type' => 'submit',
            'label' => 'Register'
        )
    ),
    'messages_file' => 'forms/register',
    'rules' => array(
        'email' => array(
            array('not_empty', array('email'))
        ),
	    'username' => array(
	        array('not_empty', array('alphadash'))
	    ),
        'password' => array(
	        array('not_empty')
        ),
        'password_confirm' => array(
            array('matches', array("password"))
        ),
	    'confirm_terms' => array(
	        array('not_empty')
	    ),
    ),
    'filters' => array()
);
